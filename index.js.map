{"version":3,"file":"index.js","sources":["../src/img/bi_x-octagon.png","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgBrZXtEYIwDIZDT86/biKjuBFlEt0AV3EX/tB61Abo8dUkRXjvqj2bvk8KSQUgZK0tjbEuZWAs5XOhzJ0DnWXw7rruA6zU3X9ovwfyPK9AUsi8bc0LEoWx0kn+Nk+GHDEXIWeYkxDOvGmaQjKMxSwg46ReBxljCunFheTiEFvjGgzZtzpm4IM0BZlObom9rRYBFEQynwMuIOh6zbU3wmnfTChsQj8qXJP2i4A1ZAQkmaMUJEopcLG5pKQThLsJMx9/Sr57RMDcPDyW+TsRIVwVcdXClfCwvihTutH4UhwgsUbD5u0BIciY7zMGAUGxGPRaJMdB9mpjHnQGhDQ/AyKaH4Fw5ps+CNdClrnSf98A+D99pdTdOffYc330mk4iD+6x/ACnmEjn99LB/AAAAABJRU5ErkJggg==\"","const API_KEY = '47379272-a961c7172d29abe92af06f616';\r\n\r\nexport const searchParams = new URLSearchParams({\r\n  key: API_KEY,\r\n  q: 'yellow+flower',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  safesearch: true,\r\n});\r\n\r\nconst BASE_URL = `https://pixabay.com/api/?${searchParams}`;\r\n\r\nexport function fetchData(url = BASE_URL, options = {}) {\r\n  return fetch(url, options).then(response => {\r\n    if (!response.ok) {\r\n      throw new Error(response.status);\r\n    }\r\n    return response.json();\r\n  });\r\n}\r\n","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nexport function createMarkup(arr) {\r\n  return arr\r\n    .map(\r\n      ({\r\n        id,\r\n        webformatURL,\r\n        tags,\r\n        likes,\r\n        views,\r\n        comments,\r\n        downloads,\r\n        largeImageURL,\r\n      }) => `\r\n        <li data-id=\"${id}\" class=\"list__item\">\r\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">                          \r\n            <img class=\"item-img\" src=\"${webformatURL}\" alt=\"${tags}\"/>                  \r\n          </a>\r\n          <ul class=\"item-container-list\">\r\n              <li class=\"container-list\">\r\n                <h3 class=\"item-title\">Likes</h3>\r\n                <p class=\"item-content\">${likes}</p>\r\n              </li>\r\n              <li class=\"container-list\">\r\n                <h3 class=\"item-title\">Views</h3>\r\n                <p class=\"item-content\">${views}</p>\r\n              </li>\r\n              <li class=\"container-list\">\r\n                <h3 class=\"item-title\">Comments</h3>\r\n                <p class=\"item-content\">${comments}</p>\r\n              </li>\r\n              <li class=\"container-list\">\r\n                <h3 class=\"item-title\">Downloads</h3>\r\n                <p class=\"item-content\">${downloads}</p>\r\n              </li>\r\n            </ul>          \r\n        </li>\r\n    `\r\n    )\r\n    .join('');\r\n}\r\n\r\nexport const lightbox = new SimpleLightbox('.list a', {\r\n  captionsData: 'alt',\r\n  captionDelay: 250,\r\n});\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport iconRejected from './img/bi_x-octagon.png';\r\n\r\nimport { fetchData, searchParams } from './js/pixabay-api';\r\nimport { createMarkup, lightbox } from './js/render-functions';\r\n\r\nconst form = document.querySelector('.form');\r\nconst container = document.querySelector('.list');\r\n\r\nform.addEventListener('submit', searchPicture);\r\n\r\nfunction searchPicture(event) {\r\n  event.preventDefault();\r\n  const searchMsg = event.target.elements.message.value.trim();\r\n  if (!searchMsg) {\r\n    return;\r\n  }\r\n  container.innerHTML = '<span class=\"loader\"></span>';\r\n\r\n  searchParams.set('q', searchMsg);\r\n  const BASE_URL = `https://pixabay.com/api/?${searchParams}`;\r\n\r\n  fetchData(BASE_URL)\r\n    .then(data => {\r\n      if (!data.total) {\r\n        iziToast.show({\r\n          theme: 'dark',\r\n          iconUrl: iconRejected,\r\n          backgroundColor: '#EF4040',\r\n          message: `Sorry, there are no images matching your search query. Please try again!`,\r\n          messageSize: '16px',\r\n          messageLineHeight: '150%',\r\n          position: 'topRight',\r\n          maxWidth: '354px',\r\n        });\r\n        container.innerHTML = '';\r\n        return;\r\n      }\r\n      container.innerHTML = createMarkup(data.hits);\r\n      lightbox.refresh();\r\n    })\r\n    .catch(error => {\r\n      iziToast.show({\r\n        theme: 'dark',\r\n        iconUrl: iconRejected,\r\n        backgroundColor: '#EF4040',\r\n        message: `Error: ${error.message}`,\r\n        messageSize: '16px',\r\n        messageLineHeight: '150%',\r\n        position: 'topRight',\r\n        maxWidth: '354px',\r\n      });\r\n      container.innerHTML = '';\r\n    })\r\n    .finally(() => {\r\n      event.target.reset();\r\n    });\r\n}\r\n"],"names":["iconRejected","API_KEY","searchParams","BASE_URL","fetchData","url","options","response","createMarkup","arr","id","webformatURL","tags","likes","views","comments","downloads","largeImageURL","lightbox","SimpleLightbox","form","container","searchPicture","event","searchMsg","data","iziToast","error"],"mappings":"6vBAAA,MAAeA,EAAA,qjBCATC,EAAU,qCAEHC,EAAe,IAAI,gBAAgB,CAC9C,IAAKD,EACL,EAAG,gBACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEKE,EAAW,4BAA4BD,CAAY,GAElD,SAASE,EAAUC,EAAMF,EAAUG,EAAU,CAAA,EAAI,CACtD,OAAO,MAAMD,EAAKC,CAAO,EAAE,KAAKC,GAAY,CAC1C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACR,IAAY;AAAA,uBACWP,CAAE;AAAA,0CACiBO,CAAa;AAAA,yCACdN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKzBC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK9C,EACA,KAAK,EAAE,CACZ,CAEO,MAAME,EAAW,IAAIC,EAAe,UAAW,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,ECxCKC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,OAAO,EAEhDD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,QAAQ,MAAM,OACtD,GAAI,CAACC,EACH,OAEFH,EAAU,UAAY,+BAEtBnB,EAAa,IAAI,IAAKsB,CAAS,EAC/B,MAAMrB,EAAW,4BAA4BD,CAAY,GAEzDE,EAAUD,CAAQ,EACf,KAAKsB,GAAQ,CACZ,GAAI,CAACA,EAAK,MAAO,CACfC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS1B,EACT,gBAAiB,UACjB,QAAS,2EACT,YAAa,OACb,kBAAmB,OACnB,SAAU,WACV,SAAU,OACpB,CAAS,EACDqB,EAAU,UAAY,GACtB,MACD,CACDA,EAAU,UAAYb,EAAaiB,EAAK,IAAI,EAC5CP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GAAS,CACdD,EAAS,KAAK,CACZ,MAAO,OACP,QAAS1B,EACT,gBAAiB,UACjB,QAAS,UAAU2B,EAAM,OAAO,GAChC,YAAa,OACb,kBAAmB,OACnB,SAAU,WACV,SAAU,OAClB,CAAO,EACDN,EAAU,UAAY,EAC5B,CAAK,EACA,QAAQ,IAAM,CACbE,EAAM,OAAO,OACnB,CAAK,CACL"}